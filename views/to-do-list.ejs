<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="description" content="Cette page permet aux utilisateurs non-inscrits de créer leur compte afin d'accèder par la suite, aux fonctionnalités du site." />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
	<link rel="stylesheet" href="dist/css/bootstrap-select.css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	<script type="text/javascript" src="/js/gradient.js"></script>

	<link rel="stylesheet" href="styleformulaire.css" />
	<title>Liste de tâches</title>
	<style>
		body {
			margin: 0;
			min-width: 250px;
			height:1200px;
			background-color: #000000;
   			padding: 0px;
   			margin: 0px;
		}

		#gradient
		{
		  width: 100%;
		  height: 100%;
		  padding: 0px;
		  margin: 0px;
		}

		/* Include the padding and border in an element's total width and height */
		* {
			box-sizing: border-box;
		}

		/* Remove margins and padding from the list */
		ul {
			margin: 0;
			padding: 0;
		}

		/* Style the list items */
		ul li {
			cursor: pointer;
			position: relative;
			padding: 12px 8px 12px 40px;
			background: #eee;
			font-size: 18px;
			opacity: 0.8;
			transition: 0.2s;

			/* make the list items unselectable */
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}

		/* Set all odd list items to a different color (zebra-stripes) */
		ul li:nth-child(odd) {
			background: #f9f9f9;
			opacity: 0.8;
		}

		/* Darker background-color on hover */
		ul li:hover {
			background: #ddd;
		}

		/* When clicked on, add a background color and strike out text */
		ul li.checked {
			background: #888;
			color: #fff;
			text-decoration: line-through;
		}

		/* Add a "checked" mark when clicked on */
		ul li.checked::before {
			content: '';
			position: absolute;
			border-color: #fff;
			border-style: solid;
			border-width: 0 2px 2px 0;
			top: 10px;
			left: 16px;
			transform: rotate(45deg);
			height: 15px;
			width: 7px;
		}

		/* Style the close button */
		.close {
			position: absolute;
			right: 0;
			top: 0;
			padding: 12px 16px 12px 16px;
		}

		.close:hover {
			background-color: #f44336;
			color: white;
		}

		/* Style the header */
		.header{
			display: block;
			margin: auto;
			border-radius: 40px;
			padding: 70px 70px;
			width: 80%;
			color: black;
			text-align: center;
			opacity: 0.8;
		}

		/* Clear floats after the header */
		.header:after {
			content: "";
			display: table;
			clear: both;
		}

		/* Style the input */
		input {
			border: none;
			width: 75%;
			padding: 10px;
			float: left;
			font-size: 16px;
		}

		/* Style the "Add" button */
		.addBtn {
			padding: 10px;
			width: 25%;
			background: #d9d9d9;
			color: #555;
			float: left;
			text-align: center;
			font-size: 16px;
			cursor: pointer;
			transition: 0.3s;
		}

		.addBtn:hover {
			background-color: #bbb;
		}
	</style>
</head>
<body>

<div id="gradient"/>
<!-- Links Navbar menue -->
<div class="w3-top">
  <div class="w3-row w3-padding w3-black">
  <% if(user){ %>
    <div class="w3-col s3">
      <a href="/" class="w3-button w3-block w3-black">ACCUEIL</a>
    </div>
    <div class="w3-col s6">
      <a href="/to-do-list" class="w3-button w3-block w3-black">MA TO DO LIST</a>
    </div>
    <div class="w3-col s3">
      <a href="/users/logout" class="w3-button w3-block w3-black glyphicon glyphicon-off"></a>
    </div>
  <% } else { %>
    <div class="w3-col s6">
      <a href="/users/login" class="w3-button w3-block w3-black">CONNEXION</a>
    </div>
    <div class="w3-col s6">
      <a href="/users/register" class="w3-button w3-block w3-black">S'ENREGISTRER</a>
    </div>
    <% } %>
  </div>
</div>

<div id="myDIV" class="header">
	<form method="post" action="/to-do-list">
        <input type="text" name="task" class="form-control" id="exampleTextarea" rows="3" placeholder="Ma tâche"></textarea>
        <button type="submit" class="btn btn-primary">Ajouter</button>
    </form>
</div>

<ul id="myUL">
    <% for (task of tasks) { %>
            <!-- <%= task.date.fromNow() %> -->
            <li>
                <%= task.task %><!-- <a href="/to-do-list/delete/<%= task.id %>">✘</a> -->
            </li>
    <% } %>
</ul>

<script>
    // Create a "close" button and append it to each list item
    var myNodelist = document.getElementsByTagName("LI");
    var i;
    for (i = 0; i < myNodelist.length; i++) {
        var span = document.createElement("A");
        var txt = document.createTextNode("\u00D7");
        span.setAttribute('href', "/to-do-list/delete/<%= task.id %>");
        span.className = "close";
        span.appendChild(txt);
        myNodelist[i].appendChild(span);
    }

    // Add a "checked" symbol when clicking on a list item
    var list = document.querySelector('ul');
    list.addEventListener('click', function(ev) {
        if (ev.target.tagName === 'LI') {
            ev.target.classList.toggle('checked');
        }
    }, false);

</script>
</body>
</html>